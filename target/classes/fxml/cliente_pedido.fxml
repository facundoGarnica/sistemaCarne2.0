<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane minHeight="600.0" minWidth="900.0" prefHeight="841.0" prefWidth="1400.0" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.Cliente_pedidoController">

    <stylesheets>
        <URL value="@../styles/clientes_modern.css" />
    </stylesheets>

    <children>
        <!-- Main Container VBox para layout vertical responsive -->
        <VBox spacing="0.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>
                <!-- Header Section -->
                <VBox styleClass="header-container">
                    <children>
                        <VBox alignment="CENTER" styleClass="main-header">
                            <padding>
                                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                            </padding>
                            <children>
                                <Label styleClass="header-title" text="Gestión de Pedidos">
                                    <font>
                                        <Font size="28.0" />
                                    </font>
                                </Label>
                                <Label styleClass="header-subtitle" text="Sistema integral de administración de pedidos">
                                    <font>
                                        <Font size="14.0" />
                                    </font>
                                </Label>
                            </children>
                        </VBox>

                        <!-- Search Section Responsive -->
                        <HBox alignment="CENTER_LEFT" styleClass="search-section">
                            <padding>
                                <Insets bottom="15.0" left="20.0" right="20.0" top="15.0" />
                            </padding>
                            <children>
                                <TextField maxWidth="Infinity" promptText="Buscar por nombre, alias o celular..." styleClass="search-input" HBox.hgrow="ALWAYS">
                                    <HBox.margin>
                                        <Insets right="10.0" />
                                    </HBox.margin>
                                </TextField>
                                <Button minWidth="80.0" styleClass="btn-primary" text="Buscar">
                                    <HBox.margin>
                                        <Insets right="8.0" />
                                    </HBox.margin>
                                </Button>
                                <Button minWidth="80.0" styleClass="btn-secondary" text="Limpiar" />
                            </children>
                        </HBox>
                    </children>
                </VBox>

                <!-- Main Content Area Responsive -->
                <HBox spacing="15.0" VBox.vgrow="ALWAYS">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                    <children>
                        <!-- Left Panel - Lista de Clientes -->
                        <VBox maxHeight="600.0" minWidth="300.0" prefHeight="626.0" prefWidth="654.0" styleClass="clients-panel" HBox.hgrow="SOMETIMES">
                            <children>
                                <Label styleClass="section-title" text="Lista de Clientes">
                                    <font>
                                        <Font size="18.0" />
                                    </font>
                                    <VBox.margin>
                                        <Insets bottom="15.0" />
                                    </VBox.margin>
                                </Label>
                        <CheckBox mnemonicParsing="false" prefHeight="32.0" prefWidth="169.0" text="Ocultar telefono">
                           <VBox.margin>
                              <Insets left="350.0" />
                           </VBox.margin>
                        </CheckBox>
      
                                <!-- ScrollPane responsive para la lista de clientes -->
                                <ScrollPane fitToHeight="true" fitToWidth="true" minHeight="-Infinity" prefHeight="400.0" prefWidth="522.0" styleClass="clients-scroll" VBox.vgrow="ALWAYS">
                                    <content>
                                        <TableView prefHeight="354.0" prefWidth="354.0" styleClass="modern-table">
                                            <columns>
                                                <TableColumn minWidth="80.0" prefWidth="120.0" text="Nombre" />
                                                <TableColumn minWidth="60.0" prefWidth="90.0" text="Alias" />
                                                <TableColumn minWidth="100.0" prefWidth="120.0" text="Celular" />
                                            </columns>
                                            <columnResizePolicy>
                                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                            </columnResizePolicy>
                                        </TableView>
                                    </content>
                                </ScrollPane>
                            </children>
                        </VBox>

                        <!-- Right Panel - Detalles del Cliente Responsive -->
                        <VBox maxHeight="600.0" minWidth="500.0" prefHeight="626.0" prefWidth="871.0" styleClass="details-panel" HBox.hgrow="ALWAYS">
                            <children>
                                <!-- Header de detalles responsive -->
                                <HBox alignment="CENTER_LEFT">
                                    <children>
                                        <Label styleClass="section-title" text="Detalles del Cliente" HBox.hgrow="ALWAYS">
                                            <font>
                                                <Font size="16.0" />
                                            </font>
                                        </Label>
                                        <Button minWidth="70.0" prefHeight="34.0" prefWidth="133.0" styleClass="btn-small" text="Borrar cliente">
                                 <HBox.margin>
                                    <Insets left="100.0" />
                                 </HBox.margin></Button>
                                    </children>
                                    <VBox.margin>
                                        <Insets bottom="15.0" />
                                    </VBox.margin>
                                </HBox>

                                <!-- Información del cliente seleccionado -->
                                <VBox styleClass="client-info-card">
                                    <padding>
                                        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
                                    </padding>
                                    <children>
                                        <Label styleClass="client-name" text="Seleccione un cliente para ver los detalles" wrapText="true">
                                            <font>
                                                <Font size="13.0" />
                                            </font>
                                        </Label>
                                    </children>
                                    <VBox.margin>
                                        <Insets bottom="15.0" />
                                    </VBox.margin>
                                </VBox>

                                <!-- TabPane responsive para detalles -->
                                <TabPane styleClass="modern-tabs" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
                                    <tabs>
                                        <!-- Tab Fiados -->
                                        <Tab styleClass="tab-fiados" text="Pedidos">
                                            <content>
                                                <VBox prefHeight="389.0" prefWidth="901.0" styleClass="tab-content">
                                                    <padding>
                                                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                                    </padding>
                                                    <children>
                                                        <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
                                                            <content>
                                                                <TableView prefHeight="330.0" prefWidth="867.0" styleClass="modern-table">
                                                                    <columns>
                                                                        <TableColumn minWidth="60.0" prefWidth="80.0" text="Fecha" />
                                                                        <TableColumn minWidth="50.0" prefWidth="60.0" text="Hora" />
                                                                        <TableColumn minWidth="60.0" prefWidth="80.0" text="Monto" />
                                                                        <TableColumn minWidth="70.0" prefWidth="90.0" text="Seña" />
                                                                        <TableColumn minWidth="60.0" prefWidth="80.0" text="Resto" />
                                                                        <TableColumn minWidth="70.0" prefWidth="90.0" text="Estado" />
                                                                    </columns>
                                                                    <columnResizePolicy>
                                                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                                                    </columnResizePolicy>
                                                                </TableView>
                                                            </content>
                                                        </ScrollPane>
                                                        
                                                        <!-- Botones responsive -->
                                                        <HBox alignment="CENTER_LEFT" spacing="8.0">
                                                            <VBox.margin>
                                                                <Insets top="10.0" />
                                                            </VBox.margin>
                                                            <children>
                                                                <Button maxWidth="Infinity" minWidth="108.0" prefHeight="38.0" prefWidth="231.0" styleClass="btn-action" text="Agregar seña" HBox.hgrow="SOMETIMES" />
                                                                <!-- Spacer para empujar botones adicionales si es necesario -->
                                                                <HBox prefHeight="38.0" prefWidth="459.0" HBox.hgrow="ALWAYS" />
                                                <Button maxWidth="Infinity" minWidth="120.0" prefHeight="38.0" prefWidth="178.0" styleClass="btn-action" text="BorrarPedido" />
                                                            </children>
                                                        </HBox>
                                                    </children>
                                                </VBox>
                                            </content>
                                        </Tab>

                                        <!-- Tab Anticipos -->
                                        <Tab styleClass="tab-anticipos" text="Señas">
                                            <content>
                                                <VBox styleClass="tab-content">
                                                    <padding>
                                                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                                    </padding>
                                                    <children>
                                                        <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
                                                            <content>
                                                                <TableView styleClass="modern-table">
                                                                    <columns>
                                                                        <TableColumn minWidth="70.0" prefWidth="100.0" text="Fecha" />
                                                                        <TableColumn minWidth="50.0" prefWidth="70.0" text="Hora" />
                                                                        <TableColumn minWidth="80.0" prefWidth="120.0" text="Monto" />
                                                                        <TableColumn minWidth="80.0" prefWidth="110.0" text="Medio" />
                                                                    </columns>
                                                                    <columnResizePolicy>
                                                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                                                    </columnResizePolicy>
                                                                </TableView>
                                                            </content>
                                                        </ScrollPane>
                                                    </children>
                                                </VBox>
                                            </content>
                                        </Tab>

                                        <!-- Tab Productos -->
                                        <Tab styleClass="tab-productos" text="Productos">
                                            <content>
                                                <VBox styleClass="tab-content">
                                                    <padding>
                                                        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
                                                    </padding>
                                                    <children>
                                                        <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
                                                            <content>
                                                                <TableView styleClass="modern-table">
                                                                    <columns>
                                                                        <TableColumn minWidth="100.0" prefWidth="150.0" text="Producto" />
                                                                        <TableColumn minWidth="50.0" prefWidth="70.0" text="Precio" />
                                                                        <TableColumn minWidth="60.0" prefWidth="80.0" text="Cantidad" />
                                                                        <TableColumn minWidth="50.0" prefWidth="70.0" text="Total" />
                                                                    </columns>
                                                                    <columnResizePolicy>
                                                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                                                    </columnResizePolicy>
                                                                </TableView>
                                                            </content>
                                                        </ScrollPane>
                                                    </children>
                                                </VBox>
                                            </content>
                                        </Tab>
                                    </tabs>
                                </TabPane>
                            </children>
                        </VBox>
                    </children>
               <VBox.margin>
                  <Insets top="50.0" />
               </VBox.margin>
                </HBox>
            </children>
        </VBox>

        <!-- Panel de difuminado (modal) - Responsive -->
        <AnchorPane disable="true" styleClass="modal-overlay" visible="false" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <children>
                <!-- Modal centrado y responsive -->
                <AnchorPane maxWidth="600.0" minWidth="400.0" prefWidth="500.0" styleClass="modal-content" AnchorPane.bottomAnchor="150.0" AnchorPane.leftAnchor="50.0" AnchorPane.rightAnchor="50.0" AnchorPane.topAnchor="150.0" />
            </children>
        </AnchorPane>

    </children>
</AnchorPane>
